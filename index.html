<!DOCTYPE html>
<html>
<head>
	<title>Tritetris</title>
	<link rel="shortcut icon" href="https://enzeberg.github.io/tritetris/favicon.ico">
	<link rel="stylesheet" href="Tritetris.css" type="text/css">
	
</head>
<body>
<canvas width="1340" height="600" style="background-color: white"></canvas>
<div id="head">Tritetris</div>
<div id="score_addition"></div>
<div id="score"></div>
<div id="lose">
	<p>Oops, you lose!</p>
	<div id="enjoy_again">Enjoy Again</div>
</div>
<div id="introduction">
	<p><strong>HOW TO PLAY: </strong>Use the four arrow keys to move or deform the falling tetromino and key A or D to rotate the triangle.
	</p>
	<p><strong>NOTE: </strong>When the falling tetromino is totally under the minddle thin line, you can't rotate the triangle, 
	and when the falling tetromino hits the squares fixed on the triangle after rotating, the tetromino goes up to 
	avoid covering the still squares.
	</p>
	<p>Now this game is only for your computer!	Perhaps we can play it on a mobile device in the future.</p>
	<div id="about">
		<p>a Li Enze game</p>
	</div>
</div>
<script src="jquery-3.1.1.min.js"></script>
<script src="Vector.js"></script>
<script src="library.js"></script>
<script src="Triangle.js"></script>
<script src="Line.js"></script>
<script src="Square.js"></script>
<script src="Block.js"></script>
<script src="Game.js"></script>
<script>
	
	var cv=document.querySelector("canvas");
	var cx=cv.getContext("2d");
	cx.translate(cv.width/2, cv.height/2);
	var game0=new Game(16, cx);
	game0.start();
	var enjoyAgain=document.querySelector("#enjoy_again");
	enjoyAgain.addEventListener("click", function(){
		cx.clearRect(-cv.width/2, -cv.height/2, cv.width, cv.height);
		document.querySelector("#lose").style.display="none";
		game0.stillSquares.forEach(function(sS){
			sS.thetas.length=null;
		});
		game0.stillSquares=null;
		game0.fallingBlock=null;
		game0=new Game(16, cx);
		game0.start();
	});
</script>
</body>
</html>
