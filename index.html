<!DOCTYPE html>
<html>
<head>
	<title>Tritetris</title>
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="stylesheet" href="Tritetris.css" type="text/css">
	
</head>

<body>
<div id="head">Tritetris</div>
<!-- <div class="main"> -->
	<div class="left_area">
		<div class="deform">
			<span>Deform</span>
		</div>
		<div id="shun"><span>A</span></div>
		<div id="ni"><span>D</span></div>
	</div>

	<canvas   style="background-color:rgb(200,180,150)"></canvas>

	
	<div class="right_area">
		<div class="pause"><span>Pause</span></div>
	</div>
<!-- </div> -->
<div id="lose">
	<p>Oops, you lose!</p>
	<div id="enjoy_again">Enjoy Again</div>
</div>
<div class="about_score">
	<div id="score_addition"></div>
	<div class="score_and_best">
		<div id="score"></div>
		<div id="best"></div>
	</div>
</div>
<script src="./js/jquery-3.1.1.min.js"></script>
<script src="./js/Vector.js"></script>
<script src="./js/library.js"></script>
<script src="./js/Triangle.js"></script>
<script src="./js/Line.js"></script>
<script src="./js/Square.js"></script>
<script src="./js/Block.js"></script>
<script src="./js/Game.js"></script>
<script>
	var screenWidth=screen.width;
	var screenHeight=screen.height;
	var cv=document.querySelector("canvas");
	cv.width=screenWidth*0.6;
	cv.height=screenHeight*0.88;
	var squareSide=Math.floor(0.012*screenWidth);

	var cx=cv.getContext("2d");
	cx.translate(cv.width/2, cv.height/2);
	var game0=new Game(squareSide, cx);
	game0.start();
	var enjoyAgain=document.querySelector("#enjoy_again");
	enjoyAgain.addEventListener("click", function(){
		cx.clearRect(-cv.width/2, -cv.height/2, cv.width, cv.height);
		document.querySelector("#lose").style.display="none";
		game0.stillSquares.forEach(function(sS){
			sS.thetas.length=0;
		});
		game0.interval=null;
		game0.stillSquares=null;
		game0.fallingBlock=null;
		game0.hoverBlock=null;
		game0=new Game(squareSide, cx);
		game0.start();
	});
</script>


<div id="introduction">

	<h3>HOW TO PLAY:</h3>
	<p><strong>[for Desktop] </strong>Use the four arrow keys to move or deform the falling tetromino and key A or D to rotate the triangle.
	</p>
	<p><strong>[for Mobile] </strong>Touch the gray area to move or deform the falling tetromino and the orange-yellow buttons to 
	deform the tetromino and rotate the triangle.
	</p>

	<h3>NOTE:</h3>
	<p>When the falling tetromino is totally under the minddle thin line, you can't rotate the triangle, 
	and when the falling tetromino hits the squares fixed on the triangle after rotating, the tetromino goes up to 
	avoid covering the still squares.
	</p>

	<h3>Reminder:</h3>
	<p>Play it on a mobile device which has a big screen, such as iPad. If your phone <strong>(except iPhone)</strong> screen is small, please use the horizontal screen <strong>before opening this web page.</strong></p>
	
	<div id="about">
		<p>a Li Enze game</p>
	</div>
</div>
</body>
</html>
